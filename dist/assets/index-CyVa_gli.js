import{i as D,r as m,j as e,m as I,A as F,a as H,n as q,H as B,o as U,R as M,p as h,q as T}from"./vendor-hRtVkG5b.js";import{H as f,a as J,F as W,T as Y,C as _,b as z,P as k,A as C,E as L,c as p,S as E,N as w,d as K,e as O,f as $,g as G,h as P}from"./components-Dn2kUcWw.js";import"./index-CyVa_gli.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();function de(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Q=D.create({baseURL:"/",headers:{"Content-Type":"application/json"}});Q.interceptors.request.use(t=>{const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t});const v=t=>{throw console.error("API Error:",t),t},S={login:async(t,r)=>{try{return console.log("API: Attempting login with:",{email:t,password:r}),{user:{id:"mock-id",name:"mock-name",email:"mock@email.com"},token:"mock-token"}}catch(i){console.error("API: Login failed:",i),v(i)}},register:async(t,r,i)=>{try{return console.log("API: Attempting registration with:",{name:t,email:r,password:i}),{user:{id:"mock-id",name:"mock-name",email:"mock@email.com"},token:"mock-token"}}catch(l){console.error("API: Registration failed:",l),v(l)}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("API: Logout successful")}},V={get:async()=>{try{return{id:"mock-id",name:"mock-name",email:"mock@email.com",profilePicture:void 0}}catch(t){v(t)}},update:async t=>{try{const r={id:"mock-id",name:t.name||"mock-name",email:t.email||"mock@email.com",profilePicture:t.profilePicture||void 0};return localStorage.setItem("user",JSON.stringify(r)),r}catch(r){v(r)}}},me={checkSymptoms:async t=>{try{return{aiAdvice:"AI analysis is not available in this version"}}catch(r){v(r)}}},R=m.createContext(null);function X({children:t}){const[r,i]=m.useState(!1),[l,s]=m.useState(null),[a,u]=m.useState(!0);m.useEffect(()=>{const d=localStorage.getItem("token"),o=localStorage.getItem("user");if(d&&o)try{s(JSON.parse(o)),i(!0),console.log("AuthContext: Initial user loaded from localStorage:",JSON.parse(o))}catch(n){console.error("AuthContext: Error parsing user from localStorage:",n),localStorage.removeItem("user"),localStorage.removeItem("token")}u(!1)},[]);const g=async(d,o)=>{try{const{user:n}=await S.login(d,o),c={id:n.id,name:n.name,email:n.email,profilePicture:n.profilePicture};s(c),i(!0),localStorage.setItem("user",JSON.stringify(c)),console.log("AuthContext: Login successful, user:",c)}catch(n){throw console.error("AuthContext: Login failed:",n),n}},x=()=>{S.logout(),s(null),i(!1),localStorage.removeItem("user"),console.log("AuthContext: Logout successful")},j=async(d,o,n)=>{try{const{user:c}=await S.register(d,o,n),b={id:c.id,name:c.name,email:c.email,profilePicture:c.profilePicture};s(b),i(!0),localStorage.setItem("user",JSON.stringify(b)),console.log("AuthContext: Registration successful, user:",b)}catch(c){throw console.error("AuthContext: Registration failed:",c),c}},y=async d=>{try{const o=await V.update(d),n={id:o.id,name:o.name,email:o.email,profilePicture:o.profilePicture};s(n),localStorage.setItem("user",JSON.stringify(n)),console.log("AuthContext: Profile update successful, user:",n)}catch(o){throw console.error("AuthContext: Profile update failed:",o),o}};return a?e.jsx("div",{children:"Loading..."}):e.jsx(R.Provider,{value:{isAuthenticated:r,user:l,login:g,logout:x,register:j,updateProfile:y},children:t})}function N(){const t=m.useContext(R);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Z(){return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(f,{}),e.jsx(J,{}),e.jsx(W,{}),e.jsx(Y,{}),e.jsx(_,{}),e.jsx(z,{})]})}function ee(){const t=I(),{login:r}=N(),[i,l]=m.useState(!1),[s,a]=m.useState(""),u=async g=>{var d,o;g.preventDefault(),a("");const x=new FormData(g.currentTarget),j=x.get("email"),y=x.get("password");l(!0);try{await r(j,y),t("/dashboard")}catch(n){a(((o=(d=n.response)==null?void 0:d.data)==null?void 0:o.error)||"Invalid credentials")}finally{l(!1)}};return e.jsxs("div",{children:[e.jsx(k,{}),e.jsx(C,{title:"Welcome Back",children:s?e.jsx(L,{title:"Sign In Failed",message:s,showHomeLink:!1}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsx(p,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0}),e.jsx(p,{id:"password",name:"password",type:"password",label:"Password",autoComplete:"current-password",required:!0}),e.jsx(E,{isLoading:i,children:"Sign in"}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(w,{to:"/register",children:"Register now"})]}),e.jsx("p",{className:"text-center text-sm text-gray-600",children:e.jsx(w,{to:"/",children:"Back to main page"})})]})})]})}function te(){const t=I(),{register:r}=N(),[i,l]=m.useState(!1),[s,a]=m.useState(""),u=async g=>{var n,c;g.preventDefault(),a("");const x=new FormData(g.currentTarget),j=x.get("name"),y=x.get("email"),d=x.get("password"),o=x.get("confirmPassword");if(d!==o){a("Passwords do not match");return}l(!0);try{await r(j,y,d),t("/dashboard")}catch(b){a(((c=(n=b.response)==null?void 0:n.data)==null?void 0:c.error)||"Registration failed")}finally{l(!1)}};return e.jsxs("div",{children:[e.jsx(k,{}),e.jsx(C,{title:"Create Account",children:s?e.jsx(L,{title:"Registration Failed",message:s,showHomeLink:!1}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsx(p,{id:"name",name:"name",type:"text",label:"Full name",autoComplete:"name",required:!0}),e.jsx(p,{id:"email",name:"email",type:"email",label:"Email address",autoComplete:"email",required:!0}),e.jsx(p,{id:"password",name:"password",type:"password",label:"Password",autoComplete:"new-password",required:!0}),e.jsx(p,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm password",autoComplete:"new-password",required:!0}),e.jsx(E,{isLoading:i,children:"Create account"}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(w,{to:"/signin",children:"Sign in"})]}),e.jsx("p",{className:"text-center text-sm text-gray-600",children:e.jsx(w,{to:"/",children:"Back to main page"})})]})})]})}function se(){const{user:t}=N();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[t&&e.jsxs("h1",{className:"text-2xl font-bold mb-6",children:["Welcome, ",t.name,"!"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(K,{}),e.jsx(O,{})]})]})]})}function re(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Health History"}),e.jsx(O,{})]})]})}function ae(){const{user:t}=N();return t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Profile Settings"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx($,{user:t})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(G,{user:t})})]})]})})]}):null}function oe(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsx("main",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"About MediSense AI"}),e.jsxs("div",{className:"prose prose-lg mx-auto",children:[e.jsx("p",{className:"text-xl text-gray-600 mb-8 text-center",children:"MediSense AI combines advanced artificial intelligence with medical expertise to provide reliable health insights and guidance."}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[{icon:F,title:"Advanced AI Technology",description:"Powered by state-of-the-art machine learning models trained on medical data"},{icon:H,title:"Privacy First",description:"Your health data is encrypted and protected with enterprise-grade security"},{icon:q,title:"Expert Backed",description:"Developed in collaboration with healthcare professionals"},{icon:B,title:"User Focused",description:"Designed to provide clear, actionable health insights"}].map((t,r)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx(t.icon,{className:"h-8 w-8 text-blue-600 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600",children:t.description})]},r))}),e.jsxs("div",{className:"bg-blue-50 p-8 rounded-xl mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Our Mission"}),e.jsx("p",{className:"text-gray-700",children:"We believe that everyone should have access to reliable health information and guidance. Our mission is to make preliminary health assessment more accessible while ensuring users get professional medical care when needed."})]})]})]})})]})}function A(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{}),e.jsxs("main",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Page not found"}),e.jsx(w,{href:"/",variant:"button",children:"Return Home"})]})]})}function ne(){return e.jsx(X,{children:e.jsx(U,{children:e.jsxs(M,{children:[e.jsx(h,{path:"/",element:e.jsx(Z,{})}),e.jsx(h,{path:"/signin",element:e.jsx(ee,{})}),e.jsx(h,{path:"/register",element:e.jsx(te,{})}),e.jsx(h,{path:"/about",element:e.jsx(oe,{})}),e.jsx(h,{path:"/dashboard",element:e.jsx(P,{children:e.jsx(se,{})})}),e.jsx(h,{path:"/history",element:e.jsx(P,{children:e.jsx(re,{})})}),e.jsx(h,{path:"/profile",element:e.jsx(P,{children:e.jsx(ae,{})})}),e.jsx(h,{path:"/404",element:e.jsx(A,{})}),e.jsx(h,{path:"*",element:e.jsx(A,{})})]})})})}T(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(ne,{})}));export{de as a,me as g,N as u};
